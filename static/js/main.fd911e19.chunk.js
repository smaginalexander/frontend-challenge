(this["webpackJsonpcat-list"]=this["webpackJsonpcat-list"]||[]).push([[0],{16:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(17),i=a.n(s),r=(a(25),a(7)),d=a(2),l=a(9),o=(a(26),a(1));var u=function(e){return Object(o.jsxs)("header",{className:"header",children:[Object(o.jsx)("div",{className:"/frontend-challenge"===e.location.pathname?"cats-active cats_type_all":"cats cats_type_all",children:Object(o.jsx)(l.b,{to:"/frontend-challenge",className:"/frontend-challenge"===e.location.pathname?"header__link-active":"header__link",children:"\u0412\u0441\u0435 \u043a\u043e\u0442\u0438\u043a\u0438"})}),Object(o.jsx)("div",{className:"/frontend-challenge/saved-cats"===e.location.pathname?"cats-active cats_type_saved":"cats cats_type_saved",children:Object(o.jsx)(l.b,{to:"/frontend-challenge/saved-cats",className:"/frontend-challenge/saved-cats"===e.location.pathname?"header__link-active":"header__link",children:"\u041b\u044e\u0431\u0438\u043c\u044b\u0435 \u043a\u043e\u0442\u0438\u043a\u0438"})})]})};a(16);var h=function(e){var t=n.a.useState(!1),a=Object(r.a)(t,2),c=a[0],s=a[1];return Object(o.jsxs)("div",{className:"card",children:[Object(o.jsx)("img",{className:"card__img",src:e.card.url,alt:"\u043a\u043e\u0442"}),c?Object(o.jsx)("span",{onClick:function(){s(!1)},className:"card__like card__like_true"}):Object(o.jsx)("span",{onClick:function(){s(!0),e.setSavedCat(e.card.id)},className:"card__like card__like_false"})]})};var f=function(e){var t=n.a.useState(!0),a=Object(r.a)(t,2),c=a[0],s=a[1];return Object(o.jsxs)("div",{className:"card",children:[Object(o.jsx)("img",{className:"card__img",src:e.card.image.url,alt:"\u043a\u043e\u0442"}),c?Object(o.jsx)("span",{onClick:function(){s(!1),e.deleteSavedCat(e.card.id)},className:"card__like card__like_true"}):Object(o.jsx)("span",{onClick:function(){s(!0)},className:"card__like card__like_false"})]})};a(33);var j=function(e){return Object(o.jsx)("main",{className:"elements",children:"/frontend-challenge"===e.location.pathname?e.catCards.map((function(t){return Object(o.jsx)(h,{card:t,setSavedCat:e.setSavedCat},t._id)})):e.savedCatCards.map((function(t){return Object(o.jsx)(f,{card:t,deleteSavedCat:e.deleteSavedCat},t._id)}))})},_=a(19),v=a(20),p=new(function(){function e(t){var a=this;Object(_.a)(this,e),this.getCatList=function(){return fetch("".concat(a._url,"/images/search?limit=25"),{headers:{"Content-Type":"application/json","x-api-key":"727b362f-5c6c-4d73-968d-40d05811e067"}}).then(a._checkResult)},this.getSavedCat=function(){return fetch("".concat(a._url,"/favourites"),{headers:{"Content-Type":"application/json","x-api-key":"727b362f-5c6c-4d73-968d-40d05811e067"}}).then(a._checkResult)},this.saveCat=function(e){return fetch("".concat(a._url,"/favourites"),{method:"POST",headers:{"Content-Type":"application/json","x-api-key":"727b362f-5c6c-4d73-968d-40d05811e067"},body:JSON.stringify({image_id:e})}).then(a._checkResult)},this.deleteCat=function(e){return fetch("".concat(a._url,"/favourites/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json","x-api-key":"727b362f-5c6c-4d73-968d-40d05811e067"}}).then(a._checkResult)},this._url=t.url,this._headers=t.headers}return Object(v.a)(e,[{key:"_checkResult",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}}]),e}())({url:"https://api.thecatapi.com/v1",headers:{"Content-Type":"application/json","x-api-key":"727b362f-5c6c-4d73-968d-40d05811e067"}});a(34);var b=function(){var e=n.a.useState([]),t=Object(r.a)(e,2),a=t[0],c=t[1],s=n.a.useState([]),i=Object(r.a)(s,2),l=i[0],h=i[1],f=Object(d.e)();n.a.useEffect((function(){p.getCatList().then((function(e){return c(e)})).catch((function(e){return console.log(e)}))}),[]),n.a.useEffect((function(){p.getSavedCat().then((function(e){h(e)})).catch((function(e){return console.log(e)}))}),[]);var _=function(){p.getSavedCat().then((function(e){localStorage.setItem("savedCats",JSON.stringify(e)),h(JSON.parse(localStorage.getItem("savedCats")))})).catch((function(e){return console.log(e)}))},v=function(e){p.saveCat(e).then((function(){_()}))},b=function(e){p.deleteCat(e).then((function(){_()}))};return Object(o.jsxs)("div",{className:"app",children:[Object(o.jsx)(u,{location:f}),Object(o.jsx)(d.a,{exact:!0,path:"/frontend-challenge",children:Object(o.jsx)(j,{catCards:a,savedCatCards:l,setSavedCat:v,deleteSavedCat:b,location:f})}),Object(o.jsx)(d.a,{exact:!0,path:"/frontend-challenge/saved-cats",children:Object(o.jsx)(j,{catCards:a,savedCatCards:l,setSavedCat:v,deleteSavedCat:b,location:f})})]})},C=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,36)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),c(e),n(e),s(e),i(e)}))};i.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(l.a,{children:Object(o.jsx)(b,{})})}),document.getElementById("root")),C()}},[[35,1,2]]]);
//# sourceMappingURL=main.fd911e19.chunk.js.map